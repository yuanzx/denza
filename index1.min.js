function ajax(e,t,n,i){var o;try{o=new XMLHttpRequest}catch(a){try{o=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){throw alert("您的浏览器版本过低，请使用较新的浏览器访问"),a}}o.open(e,t,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");o.onreadystatechange=function(){4==o.readyState&&200==o.status&&i()},o.send(n)}function submit(){var e=document.getElementById("name").value.replace(/(^\s*)|(\s*$)/g,"");if(e.length<2)return void alert("您的姓名至少应为2个字");var t=document.getElementById("tel").value.replace(/(^\s*)|(\s*$)/g,"");if(t.length<7)return void alert("您的手机号码输入不正确");var n=document.getElementById("title").value,i=document.getElementById("city").value,o=document.getElementById("note").value,a=document.getElementById("dealer").value;try{ajax("post",domain+"/?r=tdrive",{name:encodeURIComponent(e),tel:t,title:encodeURIComponent(n),city:i,note:encodeURIComponent(o),dealer:a},function(){alert("提交成功")})}catch(r){alert("提交数据出错")}}function initOptions(e,t){var n="";if(t=t||"area",e&&e.length>0)for(var i=0;i<e.length;i++)n+='<option value="'+e[i].id+'">'+e[i][t]+"</option>";return n}function initProvince(e){document.getElementById("province").innerHTML=initOptions(e),loadCity()}function initCity(e){document.getElementById("city").innerHTML=initOptions(e),loadDealer()}function loadCity(e){var e=document.getElementById("province").value;getScript(domain+"?r=city&fid="+e+"&callback=initCity")}function initDealer(e){document.getElementById("dealer").innerHTML=initOptions(e,"name")}function loadDealer(){var e=document.getElementById("city").value;getScript(domain+"?r=dealer/get&lang=cn&callback=initDealer&city="+e)}function getScript(e){var t=document.createElement("script");t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}var domain="http://www.denza.com/",isMobile=navigator.userAgent.toLowerCase().indexOf("mobile")>0&&navigator.userAgent.toLowerCase().indexOf("ipad")<0,logo=isMobile?"mobile1.jpg":"pc.jpg";document.getElementById("logo").innerHTML="<img src='"+logo+"'' alt='腾势电动车' width='100%' border='0' />",getScript(domain+"?r=city&fid=0&callback=initProvince");